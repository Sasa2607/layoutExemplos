package com.example.layouts

import android.os.Bundle
import android.widget.Button
import android.widget.Toast
import androidx.appcompat.app.AppCompatActivity
import androidx.recyclerview.widget.LinearLayoutManager
import androidx.recyclerview.widget.RecyclerView
import android.view.LayoutInflater
import android.view.ViewGroup
import android.widget.TextView

class MainActivity : AppCompatActivity() {

    private val recyclerItems = List(20) { "Item ${it + 1}" }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        // Configura RecyclerView
        val recyclerView = findViewById<RecyclerView>(R.id.recyclerView)
        recyclerView.layoutManager = LinearLayoutManager(this)
        recyclerView.adapter = SimpleAdapter(recyclerItems)

        // Ações nos botões FrameLayout e ConstraintLayout para mostrar que funcionam
        findViewById<Button>(R.id.frameButton).setOnClickListener {
            Toast.makeText(this, "Botão FrameLayout clicado!", Toast.LENGTH_SHORT).show()
        }

        findViewById<Button>(R.id.constraintButton).setOnClickListener {
            Toast.makeText(this, "Botão ConstraintLayout clicado!", Toast.LENGTH_SHORT).show()
        }
    }

    class SimpleAdapter(private val items: List<String>) :
        RecyclerView.Adapter<SimpleAdapter.ViewHolder>() {

        class ViewHolder(val textView: TextView) : RecyclerView.ViewHolder(textView)

        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {
            val textView = LayoutInflater.from(parent.context)
                .inflate(android.R.layout.simple_list_item_1, parent, false) as TextView
            return ViewHolder(textView)
        }

        override fun onBindViewHolder(holder: ViewHolder, position: Int) {
            holder.textView.text = items[position]
        }

        override fun getItemCount() = items.size
    }
}
